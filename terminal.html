<!--
    Welcome to the source code. Feel free to browse. 

-->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Terminal</title>

<script src="workPage.js" type='text/javascript'></script>
<script src="terminal.js" type="text/javascript" ></script>
</head>

<body>

<nav id='terminal' style='width:600px;height:500px;background-color:black;color:SpringGreen;overflow-y:auto;'>
</nav>


<!--
<canvas id='terminal' style='background-color:orange;position:absolute;top:30px;height:500px;overflow-y:auto;width:698px;'> 
</canvas>
-->

<!-- Terminal javascript -->
<script type='text/javascript'>

var terminalHTML = document.getElementById('terminal');

var terminalLetterX = 13;
var terminalLetterY = 0;
var cmd = '';
var cmdLength = 0;
var firstClick = 0;
var correctCounter = 0;
var terminalInput = null;
var terminalInputText = "";

alert(breakDownCMD('ls'));

window.onload = function() {

    document.addEventListener('mousedown', function(event) { 
        lastDownTarget = event.target;
		
		if(lastDownTarget == terminalHTML) {
				if (firstClick === 0){
				alert('fshere');
				terminalHTML.innerHTML += "<nav id='terminalInput"+correctCounter+"'>$_ </nav>";
			
				terminalInputText = "terminalInput"+correctCounter+"";
				terminalInput = document.getElementById(terminalInputText.toString());
			
				firstClick = 1;
				}else {
		
				terminalInput = document.getElementById(terminalInputText.toString());
	
				}
				
		}
		
    }, false);

	
	
	
    document.addEventListener('keydown', function(event) {
        
		if(lastDownTarget == terminalHTML) {
		
		if(firstClick === 0){
			alert('fshere');
			terminalHTML.innerHTML += "<nav id='terminalInput"+correctCounter+"'>$_ </nav>";
			
			terminalInputText = "terminalInput"+correctCounter+"";
			terminalInput = document.getElementById(terminalInputText.toString());
			
			firstClick = 1;
		}else {
		
			terminalInput = document.getElementById(terminalInputText.toString());
	
		}
		
		
            
			var tempText = event;
			alert(tempText.key);
			
			if ( tempText.key === 'Backspace' ){
				
					cmd = cmd.slice(0,-1);
					cmdLength--;
					terminalInput.innerHTML = "$_ " + cmd;
					
			} else if (tempText.key === 'Enter') {
				
				
				alert(cmd);
				alert(breakDownCMD(cmd));
				if (breakDownCMD(cmd) != -1){
					
					
					alert(getCookie("path=root;"));
					//alert(getCookie("path=root\test.html;"));
					alert('brokedown');
					correctCounter = correctCounter + 1;
					terminalHTML.innerHTML += "<br>"+ breakDownCMD(cmd) + "<br>" + "<nav id='terminalInput"+correctCounter+"' >$_ </nav>";
					cmd = "";
					cmdLength = 0;
					terminalInputText = "terminalInput"+correctCounter+"";
					alert(terminalInputText.toString());
					terminalInput = document.getElementById(terminalInputText.toString());
	
					
				}
				
				
				
				
				
				
			} else if (tempText.code === 'Space' ) {
				
				cmd += tempText.key;
				cmdLength++;
				terminalInput.innerHTML += tempText.key;
			
			
			} else {
			
			
				alert('here');
				//appendlastChild use this
				
				cmd += tempText.key;
				cmdLength++;
				
				terminalInput.innerHTML += tempText.key;
				
				
			}
			
			
        }
    }, false);
};

alert(getCookie("root"));

</script>

</body>
</html>